var GANTT_DEFAULT_CONFIG={BOXWIDTH:30,BOXHEIGHT:30,titleWidth:200,chartHeight:400,title:"Simple Gantt"},GanttUtils=function(){"use strict";return{addDays:function(t,e){var a=new Date(t);return a.setDate(a.getDate()+e),a},calculateDaysDiff:function(t,e){var a=t.getTime(),n=e.getTime(),i=Math.abs(a-n);return Math.ceil(i/864e5)},calculateDiffMonth:function(t,e){var a=t.getMonth(),n=t.getFullYear(),i=e.getMonth(),l=e.getFullYear();return 12*Math.abs(l-n)+Math.abs(i-a)},getTitleWidth:function(t){return t.titleWidth||GANTT_DEFAULT_CONFIG.titleWidth},getBoxWidth:function(t){var e=t.boxWidth||GANTT_DEFAULT_CONFIG.BOXWIDTH;return e+=1}}}(),HeaderPanel=function(t){"use strict";var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=function(t,e,a){var n=GanttUtils.calculateDaysDiff(a.scope.startDate,a.scope.endDate),i=GanttUtils.getTitleWidth(e),l=GanttUtils.getBoxWidth(e)*n+i;return t.style.width=l+2+"px",t},n=function(e){var a=document.createElement("div"),n=GanttUtils.getTitleWidth(e);a.style.width=n+"px",a.classList.add("title-container");var i=e.title||t.title,l=document.createTextNode(i);return a.appendChild(l),a},i=function(t,e,a){var n=document.createElement("div"),i=GanttUtils.getTitleWidth(t);n.classList.add("header-daterange-panel"),n.style.left=i+"px";var d=document.createElement("div");d.classList.add("clear-both");var r=l(t,e,a);return n.appendChild(r.monthRangePanel),n.appendChild(d),n.appendChild(r.dayRangePanel),n},l=function(t,e,a){for(var n,i=document.createElement("div"),l=document.createElement("div"),c=GanttUtils.calculateDaysDiff(e,a),s=e.getMonth(),o=0,u=0;u<c;u++){var p=GanttUtils.addDays(e,u),h=p.getMonth(),f=d(p);l.appendChild(f);var v=GanttUtils.getBoxWidth(t);if(h!==s){g=r(n,o);i.appendChild(g),o=v}else o+=v;s=h,n=p}var g=r(a,o);return i.appendChild(g),{monthRangePanel:i,dayRangePanel:l}},d=function(t){var e=document.createElement("div");e.classList.add("day-box");var a=document.createTextNode(t.getDate());return e.appendChild(a),e},r=function(t,a){var n=document.createElement("div");n.classList.add("monthyear-box");var i=document.createTextNode(e[t.getMonth()]+" "+t.getFullYear());return n.appendChild(i),n.style.width=a-1+"px",n};return{generate:function(t,e){var l=document.createElement("div");l.classList.add("header-panel"),l=a(l,t,e);var d=n(t),r=i(t,e.scope.startDate,e.scope.endDate);return l.appendChild(d),l.appendChild(r),l}}}(GANTT_DEFAULT_CONFIG),BodyPanel=function(t){"use strict";var e=function(t,e,a){var n=GanttUtils.calculateDaysDiff(a.scope.startDate,a.scope.endDate),i=GanttUtils.getTitleWidth(e),l=GanttUtils.getBoxWidth(e)*n+i;return t.style.width=l+"px",t},a=function(e,a){var n=(a.height||t.chartHeight)-60;return e.style.height=n+"px",e},n=function(e,a){var n=document.createElement("div"),i=GanttUtils.getTitleWidth(e);return n.style.width=i+"px",n.style.height=t.BOXHEIGHT*a.gantt.length,n.classList.add("left-panel"),a.gantt.forEach(function(t){var a=document.createElement("div"),i=GanttUtils.getTitleWidth(e);a.style.width=i-6+"px",a.classList.add("data-left-box"),a.innerHTML=t.titleHtmlElem+" "+t.title,n.appendChild(a)}),n},i=function(e,a){console.log(a);var n=GanttUtils.getTitleWidth(e),i=GanttUtils.getBoxWidth(e),l=document.createElement("div");l.style.left=n+"px",l.classList.add("chart-panel");var d=i*GanttUtils.calculateDaysDiff(a.scope.startDate,a.scope.endDate);return l.style.width=d+"px",l.style.height=(t.BOXHEIGHT+2)*a.gantt.length+"px",l},l=function(e,a,n){GanttUtils.getTitleWidth(a);return n.gantt.forEach(function(i,l){var s=l*(t.BOXHEIGHT+1);s+=3,i.dates.forEach(function(t){var i=r(a,t,s,n.scope.startDate);if(e.appendChild(i),t.desc){var l=c(a,t,s,n.scope.startDate);e.appendChild(l)}});var o=d(a,i.title,s,n,l);e.appendChild(o)}),e},d=function(e,a,n,i,l){var d=document.createElement("div"),r=GanttUtils.getBoxWidth(e)*GanttUtils.calculateDaysDiff(i.scope.startDate,i.scope.endDate),c=document.createElement("div");c.style.position="absolute",c.style.top=n+"px",c.style.width=r+"px",c.style.height=t.BOXHEIGHT+"px",d.appendChild(c);for(var s=12*a.length+3,o=parseInt(r/s),u=3,p=0;p<o;p++){var h=document.createElement("div");h.classList.add("row-background"),h.style.left=u+"px",h.style.top=n+4+"px";var f=document.createTextNode(a);h.appendChild(f),d.appendChild(h),u+=s}if(i.onClick){d.addEventListener("click",function(){i.onClick(l)})}return d},r=function(t,e,a,n){var i=s(t,e,n),l=i.end-i.start-9,d=document.createElement("div");d.classList.add("bar"),d.classList.add("wrap-text-with-dots"),e.class&&d.classList.add(e.class),d.style.backgroundColor=e.color,d.style.width=l+"px",d.style.left=i.start+"px",d.style.top=a+"px";var r=document.createTextNode(e.label);return d.appendChild(r),e.onClick&&d.addEventListener("click",e.onClick),d},c=function(e,a,n,i){var l=s(e,a,i),d=document.createElement("div");return d.classList.add("desc-box"),d.style.top=n+t.BOXHEIGHT+"px",d.innerHTML=a.desc,d.style.left=l.start+10+"px",d},s=function(t,e,a){var n=GanttUtils.getBoxWidth(t);return{start:GanttUtils.calculateDaysDiff(a,e.startDate)*n+2,end:(GanttUtils.calculateDaysDiff(a,e.endDate)+1)*n}};return{generate:function(t,d){var r=document.createElement("div");r.classList.add("data-panel"),r=e(r,t,d),r=a(r,t,d);var c=n(t,d),s=i(t,d),o=l(s,t,d);return r.appendChild(c),r.appendChild(o),r}}}(GANTT_DEFAULT_CONFIG),SimpleGantt=function(t,e){"use strict";var a=function(t){return t.classList.add("main-container"),t};return{generate:function(n,i,l){var d=document.querySelector(n);if(d){d=a(d);var r=t.generate(i,l),c=e.generate(i,l);d.appendChild(r),d.appendChild(c)}}}}(HeaderPanel,BodyPanel);