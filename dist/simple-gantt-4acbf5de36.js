var GANTT_DEFAULT_CONFIG={BOXWIDTH:30,BOXHEIGHT:30,titleWidth:200,chartHeight:400,title:"Simple Gantt"},GanttUtils=function(){"use strict";return{addDays:function(t,e){var a=new Date(t);return a.setDate(a.getDate()+e),a},calculateDaysDiff:function(t,e){var a=t.getTime(),n=e.getTime(),i=Math.abs(a-n);return Math.ceil(i/864e5)},calculateDiffMonth:function(t,e){var a=t.getMonth(),n=t.getFullYear(),i=e.getMonth(),r=e.getFullYear();return 12*Math.abs(r-n)+Math.abs(i-a)},getTitleWidth:function(t){return t.titleWidth||GANTT_DEFAULT_CONFIG.titleWidth},getBoxWidth:function(t){var e=t.boxWidth||GANTT_DEFAULT_CONFIG.BOXWIDTH;return e+=1}}}(),HeaderPanel=function(t){"use strict";var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=function(t,e,a){var n=GanttUtils.calculateDaysDiff(a.scope.startDate,a.scope.endDate),i=GanttUtils.getTitleWidth(e),r=GanttUtils.getBoxWidth(e)*n+i;return t.style.width=r+2+"px",t},n=function(e){var a=document.createElement("div"),n=GanttUtils.getTitleWidth(e);a.style.width=n+"px",a.classList.add("title-container");var i=e.title||t.title,r=document.createTextNode(i);return a.appendChild(r),a},i=function(t,e,a){var n=document.createElement("div"),i=GanttUtils.getTitleWidth(t);n.classList.add("header-daterange-panel"),n.style.left=i+"px";var d=document.createElement("div");d.classList.add("clear-both");var l=r(e,a);return n.appendChild(l.monthRangePanel),n.appendChild(d),n.appendChild(l.dayRangePanel),n},r=function(t,e){var a=document.createElement("div"),n=document.createElement("div");n.style.marginLeft="1px";for(var i,r=GanttUtils.calculateDaysDiff(t,e),c=t.getMonth(),s=0,o=0;o<r;o++){var u=GanttUtils.addDays(t,o),h=u.getMonth(),p=d(u);n.appendChild(p);var f=GanttUtils.getBoxWidth(chartConfig);if(h!==c){v=l(i,s);a.appendChild(v),s=f}else s+=f;c=h,i=u}var v=l(e,s);return a.appendChild(v),{monthRangePanel:a,dayRangePanel:n}},d=function(t){var e=document.createElement("div");e.classList.add("day-box");var a=document.createTextNode(t.getDate());return e.appendChild(a),e},l=function(t,a){var n=document.createElement("div");n.classList.add("monthyear-box");var i=document.createTextNode(e[t.getMonth()]+" "+t.getFullYear());return n.appendChild(i),n.style.width=a+"px",n};return{generate:function(t,e){var r=document.createElement("div");r.classList.add("header-panel"),r=a(r,t,e);var d=n(t),l=i(t,e.scope.startDate,e.scope.endDate);return r.appendChild(d),r.appendChild(l),r}}}(GANTT_DEFAULT_CONFIG),BodyPanel=function(t){"use strict";var e=function(t,e,a){var n=GanttUtils.calculateDaysDiff(a.scope.startDate,a.scope.endDate),i=GanttUtils.getTitleWidth(e),r=GanttUtils.getBoxWidth(e)*n+i;return t.style.width=r+"px",t},a=function(e,a){var n=(a.height||t.chartHeight)-60;return e.style.height=n+"px",e},n=function(e,a){var n=document.createElement("div"),i=GanttUtils.getTitleWidth(e);return n.style.width=i+"px",n.style.height=t.BOXHEIGHT*a.gantt.length,n.classList.add("left-panel"),a.gantt.forEach(function(t){var a=document.createElement("div"),i=GanttUtils.getTitleWidth(e);a.style.width=i-6+"px",a.classList.add("data-left-box");var r=t.title,d=document.createTextNode(r);a.appendChild(d),n.appendChild(a)}),n},i=function(e,a){console.log(a);var n=GanttUtils.getTitleWidth(e),i=GanttUtils.getBoxWidth(e),r=document.createElement("div");r.style.left=n+"px",r.classList.add("chart-panel");var d=i*GanttUtils.calculateDaysDiff(a.scope.startDate,a.scope.endDate);return r.style.width=d+"px",r.style.height=(t.BOXHEIGHT+1)*a.gantt.length+"px",r},r=function(e,a,n){GanttUtils.getTitleWidth(a);return n.gantt.forEach(function(i,r){var c=r*(t.BOXHEIGHT+1);c+=3,i.dates.forEach(function(t){var i=d(a,t,c,n.scope.startDate);if(e.appendChild(i),t.desc){var r=l(a,t,c,n.scope.startDate);e.appendChild(r)}})}),e},d=function(t,e,a,n){var i=c(t,e,n),r=i.end-i.start-9,d=document.createElement("div");d.classList.add("bar"),d.classList.add("wrap-text-with-dots"),d.style.backgroundColor=e.color,d.style.width=r+"px",d.style.left=i.start+"px",d.style.top=a+"px";var l=document.createTextNode(e.label);return d.appendChild(l),e.onClick&&d.addEventListener("click",e.onClick),d},l=function(e,a,n,i){var r=c(e,a,i),d=document.createElement("div");return d.classList.add("desc-box"),d.style.top=n+t.BOXHEIGHT+"px",d.innerHTML=a.desc,d.style.left=r.start+10+"px",d},c=function(t,e,a){var n=GanttUtils.getBoxWidth(t);return{start:GanttUtils.calculateDaysDiff(a,e.startDate)*n+2,end:(GanttUtils.calculateDaysDiff(a,e.endDate)+1)*n}};return{generate:function(t,d){var l=document.createElement("div");l.classList.add("data-panel"),l=e(l,t,d),l=a(l,t,d);var c=n(t,d),s=i(t,d),o=r(s,t,d);return l.appendChild(c),l.appendChild(o),l}}}(GANTT_DEFAULT_CONFIG),SimpleGantt=function(t,e){"use strict";var a=function(t){return t.classList.add("main-container"),t};return{generate:function(n,i,r){var d=document.querySelector(n);if(d){d=a(d);var l=t.generate(i,r),c=e.generate(i,r);d.appendChild(l),d.appendChild(c)}}}}(HeaderPanel,BodyPanel);